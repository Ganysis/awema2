
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test V3 Blocks Preview</title>
    <script>
      // Simuler le contexte de l'éditeur
      window.testV3Render = async function() {
        try {
          const response = await fetch('/api/test-render', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({
  "blockType": "hero-v3-perfect",
  "props": {
    "variant": "split-modern",
    "content": {
      "title": "Test Hero V3 Perfect",
      "subtitle": "Architecture moderne",
      "description": "Test du système de rendu V3 avec toutes les fonctionnalités",
      "primaryButton": {
        "text": "Commencer",
        "link": "#start"
      },
      "secondaryButton": {
        "text": "En savoir plus",
        "link": "#more"
      }
    },
    "media": {
      "type": "image",
      "src": "/api/placeholder/600/400",
      "alt": "Hero image"
    },
    "settings": {
      "height": "screen",
      "contentPosition": "center-left",
      "theme": "light"
    }
  }
})
          });
          
          const result = await response.json();
          console.log('API Response:', result);
          
          if (result.success && result.html) {
            document.getElementById('preview').innerHTML = result.html;
          } else {
            document.getElementById('preview').innerHTML = '<p style="color: red;">Erreur: ' + (result.error || 'Pas de HTML') + '</p>';
          }
        } catch (error) {
          console.error('Erreur:', error);
          document.getElementById('preview').innerHTML = '<p style="color: red;">Erreur: ' + error.message + '</p>';
        }
      };
    </script>
</head>
<body>
    <h1>Test V3 Blocks Preview</h1>
    <button onclick="testV3Render()">Tester le rendu V3</button>
    <hr>
    <div id="preview" style="border: 1px solid #ccc; padding: 20px; margin-top: 20px;">
      <p>Cliquez sur le bouton pour tester le rendu</p>
    </div>
    
    <h2>Test direct avec le code du bloc</h2>
    <pre>{
  "blockType": "hero-v3-perfect",
  "props": {
    "variant": "split-modern",
    "content": {
      "title": "Test Hero V3 Perfect",
      "subtitle": "Architecture moderne",
      "description": "Test du système de rendu V3 avec toutes les fonctionnalités",
      "primaryButton": {
        "text": "Commencer",
        "link": "#start"
      },
      "secondaryButton": {
        "text": "En savoir plus",
        "link": "#more"
      }
    },
    "media": {
      "type": "image",
      "src": "/api/placeholder/600/400",
      "alt": "Hero image"
    },
    "settings": {
      "height": "screen",
      "contentPosition": "center-left",
      "theme": "light"
    }
  }
}</pre>
</body>
</html>
    